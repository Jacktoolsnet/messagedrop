<div class="migraine-tile" role="button" tabindex="0" (click)="edit()"
  (keyup.enter)="edit()" (keyup.space)="edit()">
  <div class="migraine-header">
    <div class="migraine-icon">
      <mat-icon>{{ icon }}</mat-icon>
    </div>
    <div class="migraine-title">{{ title }}</div>
    @if (isStale) {
      <span class="stale">{{ 'common.tiles.migraine.stale' | transloco }}</span>
    }
  </div>

  <div class="migraine-body">
    <div class="metric" [class.warn]="tempChange.level === 'warn'" [class.alert]="tempChange.level === 'alert'">
      <div class="label">{{ 'common.tiles.migraine.temperatureChange' | transloco }}</div>
      <div class="metric-row">
        <div class="value">{{ formatValue(tempChange.value, 'Â°C') }}</div>
        <button mat-icon-button color="primary" (click)="openWeatherDetails('temperature'); $event.stopPropagation();"
          type="button" [attr.aria-label]="'common.tiles.migraine.openTemperatureAria' | transloco">
          <mat-icon>thermostat</mat-icon>
        </button>
      </div>
    </div>
    <div class="metric" [class.warn]="pressureChange.level === 'warn'" [class.alert]="pressureChange.level === 'alert'">
      <div class="label">{{ 'common.tiles.migraine.pressureChange' | transloco }}</div>
      <div class="metric-row">
        <div class="value">{{ formatValue(pressureChange.value, ' hPa') }}</div>
        <button mat-icon-button color="primary" (click)="openWeatherDetails('pressure'); $event.stopPropagation();"
          type="button" [attr.aria-label]="'common.tiles.migraine.openPressureAria' | transloco">
          <mat-icon>compress</mat-icon>
        </button>
      </div>
    </div>
  </div>

</div>

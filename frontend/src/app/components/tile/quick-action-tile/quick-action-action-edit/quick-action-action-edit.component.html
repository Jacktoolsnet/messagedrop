<app-dialog-header
  [title]="'common.tileEdit.actionTitle' | transloco">
</app-dialog-header>

<mat-dialog-content class="edit-content">
  <button class="icon-pick-button" mat-stroked-button color="primary" type="button" (click)="pickIcon()"
    [attr.aria-label]="'common.tileFields.pickIcon' | transloco">
    @if (icon()) {
      <mat-icon>{{ icon() }}</mat-icon>
    } @else {
      <span>{{ 'common.tileFields.pickIcon' | transloco }}</span>
    }
  </button>

  <mat-form-field appearance="outline" class="full-width">
    <mat-label>{{ 'common.tileFields.label' | transloco }}</mat-label>
    <input matInput cdkFocusInitial [formControl]="labelControl" maxlength="64" />
  </mat-form-field>

  <mat-form-field appearance="outline" class="full-width">
    <mat-label>{{ 'common.tileFields.type' | transloco }}</mat-label>
    <mat-select [formControl]="typeControl">
      @for (type of actionTypes; track type.value) {
        <mat-option [value]="type.value">{{ type.labelKey | transloco }}</mat-option>
      }
    </mat-select>
  </mat-form-field>

  <mat-form-field appearance="outline" class="full-width">
    <mat-label>{{ 'common.tileFields.target' | transloco }}</mat-label>
    <input matInput [formControl]="valueControl" />
    @if (valueControl.invalid && valueControl.touched) {
      <mat-error>
        {{ 'common.tileFields.invalidTarget' | transloco:{ type: ('common.tileLinkTypes.' + typeControl.value) | transloco } }}
      </mat-error>
    }
  </mat-form-field>
</mat-dialog-content>

<mat-dialog-actions class="sticky-actions" align="end">
  <button type="button" (click)="cancel()" mat-icon-button [attr.aria-label]="'common.cancel' | transloco" class="action-close"><mat-icon>close</mat-icon></button>
  <button mat-icon-button type="button" (click)="help.open('tileEditQuickActionAction')"
    [attr.aria-label]="'common.actions.help' | transloco">
    <mat-icon>help</mat-icon>
  </button>
  <button color="primary" type="button" (click)="save()" mat-icon-button [attr.aria-label]="'common.save' | transloco"><mat-icon>save</mat-icon></button>
</mat-dialog-actions>

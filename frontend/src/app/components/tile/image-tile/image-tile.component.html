<div class="tile" role="button" tabindex="0" (click)="openImageDialog()"
  (keyup.enter)="openImageDialog()" (keyup.space)="openImageDialog()">
  <div class="tile-header">
    <mat-icon class="tile-icon">photo_library</mat-icon>
    <span class="tile-title">{{ 'common.tiles.images.title' | transloco }}</span>
  </div>

  @if (previewImages().length > 0) {
  <div class="grid">
    @for (image of previewImages(); track image.id; let idx = $index) {
      @if (previewUrls()[idx] === 'NOT_FOUND') {
        <div class="missing">
          <mat-icon aria-hidden="true">broken_image</mat-icon>
          <div>{{ 'common.tiles.images.notFound' | transloco }}</div>
        </div>
      } @else {
        <img
          [src]="previewUrls()[idx]"
          [alt]="image.fileName || ('common.tiles.images.previewAlt' | transloco)"
          loading="lazy"
          decoding="async"
          (error)="handleImageError(image, idx)"
        />
      }
    }
  </div>
  } @else {
  <div class="empty">{{ 'common.tiles.images.empty' | transloco }}</div>
  }
</div>

<div class="searchTerm-container">
    <input #searchInput type="search" enterkeyhint="search" [formControl]="searchTerm" (keyup.enter)="search()"
        [placeholder]="'common.location.searchPlaceholder' | transloco">

    <button (click)="search()">
        <mat-icon>search</mat-icon>
    </button>
</div>

<mat-dialog-content>
    @if (viewMode === 'list') {
    <app-nominatim-results-list [places]="nominatimPlaces" [showAddButton]="showAddButton()"
        (add)="onAddPlaceClick($event)" (flyTo)="flyTo($event)" (navigate)="nominatimService.navigateToNominatimPlace($event)">
    </app-nominatim-results-list>
    } @else {
    <app-nominatim-results-map [places]="nominatimPlaces" [initialCenter]="mapView.center"
        [selectedPlaceId]="selectedPlace?.place_id ?? null"
        [initialZoom]="mapView.zoom" (viewChange)="onViewChange($event)"
        (placeSelected)="openPlaceDialog($event)">
    </app-nominatim-results-map>
    }
</mat-dialog-content>

<mat-dialog-actions class="sticky-actions" align="end">
    <button mat-dialog-close mat-icon-button class="action-close" [attr.aria-label]="'common.actions.close' | transloco">
        <mat-icon>close</mat-icon>
    </button>
    <button mat-icon-button type="button" (click)="help.open('nominatimSearch')"
        [attr.aria-label]="'common.actions.help' | transloco">
        <mat-icon>help</mat-icon>
    </button>
    <button mat-icon-button type="button" (click)="toggleViewMode()"
        [attr.aria-label]="viewMode === 'list' ? ('common.location.switchToMap' | transloco) : ('common.location.switchToList' | transloco)">
        <mat-icon>{{ viewMode === 'list' ? 'map' : 'list' }}</mat-icon>
    </button>
</mat-dialog-actions>

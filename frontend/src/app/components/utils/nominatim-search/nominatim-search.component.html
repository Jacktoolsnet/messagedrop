<div class="searchTerm-container">
    <input #searchInput type="search" enterkeyhint="search" [formControl]="searchTerm" (keyup.enter)="search()"
        [placeholder]="'common.location.searchPlaceholder' | transloco">

    <select [(ngModel)]="selectedRadius" (change)="onSelectChange($event)">
        @for (r of radiusOptions; track r.value) {
        <option [value]="r.value">
            {{ r.labelKey | transloco:r.params }}
        </option>
        }
    </select>

    <button (click)="search()">
        <mat-icon>search</mat-icon>
    </button>
</div>

<mat-dialog-content>
    @if (viewMode === 'list') {
    <app-nominatim-results-list [places]="nominatimPlaces" [showAddButton]="showAddButton()"
        (add)="onAddPlaceClick($event)" (flyTo)="flyTo($event)" (navigate)="nominatimService.navigateToNominatimPlace($event)">
    </app-nominatim-results-list>
    } @else {
    <app-nominatim-results-map [places]="nominatimPlaces" [center]="data.location"
        (placeSelected)="openPlaceDialog($event)">
    </app-nominatim-results-map>
    }
</mat-dialog-content>

<mat-dialog-actions class="sticky-actions" align="end">
    <button mat-dialog-close mat-icon-button class="action-close" [attr.aria-label]="'common.actions.close' | transloco">
        <mat-icon>close</mat-icon>
    </button>
    <button mat-icon-button type="button" (click)="toggleViewMode()"
        [attr.aria-label]="viewMode === 'list' ? ('common.location.switchToMap' | transloco) : ('common.location.switchToList' | transloco)">
        <mat-icon>{{ viewMode === 'list' ? 'map' : 'list' }}</mat-icon>
    </button>
</mat-dialog-actions>

<h2 mat-dialog-title class="dialog-title">
  <mat-icon class="dialog-title__icon" aria-hidden="true">swap_vert</mat-icon>
  <span class="dialog-title__text">{{ 'common.placeList.sortTitle' | transloco }}</span>
</h2>

<mat-dialog-content class="sort-dialog-content">
  <div cdkDropList class="sort-list" (cdkDropListDropped)="drop($event)">
    @for (place of places(); track place.id) {
    <div class="sort-row" cdkDrag>
      <button type="button" class="drag-handle" cdkDragHandle
        [attr.aria-label]="'common.placeList.reorderAria' | transloco:{ name: getPlaceName(place) }">
        <mat-icon>drag_indicator</mat-icon>
      </button>
      <span class="avatar">
        @if (place.base64Avatar) {
        <img class="avatar__img" [src]="place.base64Avatar"
          [attr.alt]="getPlaceName(place)" />
        } @else {
        <mat-icon>{{ getPlaceIcon(place) }}</mat-icon>
        }
      </span>
      <span class="name">{{ getPlaceName(place) }}</span>
    </div>
    }
  </div>
</mat-dialog-content>

<mat-dialog-actions class="sticky-actions" align="end">
  <button mat-icon-button class="action-close" (click)="close()"
    [attr.aria-label]="'common.actions.close' | transloco">
    <mat-icon>close</mat-icon>
  </button>
  <button mat-icon-button color="primary" (click)="apply()"
    [attr.aria-label]="'common.actions.apply' | transloco">
    <mat-icon>check</mat-icon>
  </button>
</mat-dialog-actions>

<div class="tile" role="button" tabindex="0" (click)="openImageDialog()"
  (keyup.enter)="openImageDialog()" (keyup.space)="openImageDialog()">
  <div class="tile-header">
    <mat-icon class="tile-icon">photo_library</mat-icon>
    <span class="tile-title">Private images</span>
  </div>

  @if (latestImage()) {
  <div class="preview-box">
    @if (previewUrl() === 'NOT_FOUND') {
    <div class="missing">
      <mat-icon aria-hidden="true">broken_image</mat-icon>
      <div>Image not found on device</div>
    </div>
    } @else {
    <img [src]="previewUrl()!" [alt]="latestImage().fileName || 'Image preview'" />
    }
    <div class="meta">
      <div class="file-name">{{ latestImage().fileName }}</div>
      @if (latestImage().exifCaptureDate) {
      <div class="capture-date">{{ latestImage().exifCaptureDate }}</div>
      }
    </div>
  </div>
  } @else {
  <div class="empty">No images found.</div>
  }
</div>

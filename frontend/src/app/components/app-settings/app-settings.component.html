<h2 mat-dialog-title>App settings</h2>
<mat-dialog-content>
    <mat-form-field appearance="fill" class="theme-select">
        <mat-label>Theme</mat-label>
        <mat-select [value]="appSettings.defaultTheme" (selectionChange)="setTheme($event.value)">
            <mat-option *ngFor="let theme of availableThemes" [value]="theme">
                {{ theme | titlecase }}
            </mat-option>
        </mat-select>
    </mat-form-field>

    <mat-button-toggle-group [hideSingleSelectionIndicator]="true" [value]="appSettings.themeMode"
        (change)="setThemeMode($event.value)" class="theme-toggle-group" exclusive aria-label="Theme mode toggle">
        <mat-button-toggle value="light">
            <mat-icon class="material-symbols-outlined">light_mode</mat-icon>
            Light
        </mat-button-toggle>
        <mat-button-toggle value="dark">
            <mat-icon class="material-symbols-outlined">dark_mode</mat-icon>
            Dark
        </mat-button-toggle>
        <mat-button-toggle value="system">
            <mat-icon class="material-symbols-outlined">settings</mat-icon>
            System
        </mat-button-toggle>
    </mat-button-toggle-group>

    @if(showDetectLocationOnStart){
    <div class="toggle-row">
        <mat-slide-toggle id="toggle-detect-location-on-start" color="primary"
            [checked]="appSettings.detectLocationOnStart" (change)="setDetectLocationOnStart($event.checked)"
            aria-label="Get location on app start">
            Determine location on app start
        </mat-slide-toggle>
    </div>
    }

    <div class="toggle-row">
        <mat-slide-toggle id="toggle-show-pinterest-content" color="primary"
            [checked]="appSettings.showPinterestContent" (change)="setShowPinterestContent($event.checked)"
            aria-label="Show Pinterest content">
            Show Pinterest content
        </mat-slide-toggle>
    </div>

    <div class="toggle-row">
        <mat-slide-toggle id="toggle-show-spotify-content" color="primary" [checked]="appSettings.showSpotifyContent"
            (change)="setShowSpotifyContent($event.checked)" aria-label="Show Spotify content">
            Show Spotify content
        </mat-slide-toggle>
    </div>

    <div class="toggle-row">
        <mat-slide-toggle id="toggle-show-tenor-content" color="primary" [checked]="appSettings.showTenorContent"
            (change)="setShowTenorContent($event.checked)" aria-label="Show Tenor content">
            Show Tenor content
        </mat-slide-toggle>
    </div>

    <div class="toggle-row">
        <mat-slide-toggle id="toggle-show-tiktok-content" color="primary" [checked]="appSettings.showTikTokContent"
            (change)="setShowTikTokContent($event.checked)" aria-label="Show TikTok content">
            Show TikTok content
        </mat-slide-toggle>
    </div>

    <div class="toggle-row">
        <mat-slide-toggle id="toggle-show-youtube-content" color="primary" [checked]="appSettings.showYoutubeContent"
            (change)="setShowYoutubeContent($event.checked)" aria-label="Show YouTube content">
            Show YouTube content
        </mat-slide-toggle>
    </div>

    <mat-chip-set class="version-chipset">
        <mat-chip appearance="outlined" color="primary" disableRipple>
            Version {{ versionInfo.semver }}-{{ versionInfo.build }}-{{ versionInfo.commit }}-{{ versionInfo.timestamp
            }}
        </mat-chip>
    </mat-chip-set>

    <mat-dialog-actions>
        <button mat-button mat-dialog-close cdkFocusInitial (click)="onAbortClick()">Abort</button>
        <button mat-button mat-dialog-close [mat-dialog-close]="appSettings">
            Apply
        </button>
    </mat-dialog-actions>
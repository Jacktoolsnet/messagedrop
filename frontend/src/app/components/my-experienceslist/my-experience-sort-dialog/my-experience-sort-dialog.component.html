<app-dialog-header
  icon="swap_vert"
  [title]="'common.experiences.sortTitle' | transloco">
</app-dialog-header>

<mat-dialog-content class="sort-dialog-content">
  <div cdkDropList class="sort-list" (cdkDropListDropped)="drop($event)">
    @for (bookmark of bookmarks(); track bookmark.productCode) {
    <div class="sort-row" cdkDrag>
      <button type="button" class="drag-handle" cdkDragHandle
        [attr.aria-label]="'common.experiences.reorderAria' | transloco:{ name: getExperienceName(bookmark) }">
        <mat-icon>drag_indicator</mat-icon>
      </button>
      <span class="avatar">
        @if (bookmark.snapshot.avatarUrl) {
        <img class="avatar__img" [src]="bookmark.snapshot.avatarUrl"
          [attr.alt]="getExperienceName(bookmark)" />
        } @else {
        <mat-icon>local_activity</mat-icon>
        }
      </span>
      <span class="name">{{ getExperienceName(bookmark) }}</span>
    </div>
    }
  </div>
</mat-dialog-content>

<mat-dialog-actions class="sticky-actions" align="end">
  <button mat-icon-button class="action-close" (click)="close()"
    [attr.aria-label]="'common.actions.close' | transloco">
    <mat-icon>close</mat-icon>
  </button>
  <button mat-icon-button type="button" (click)="help.open('myExperienceSort')"
    [attr.aria-label]="'common.actions.help' | transloco">
    <mat-icon>help</mat-icon>
  </button>
  <button mat-icon-button color="primary" (click)="apply()"
    [attr.aria-label]="'common.actions.apply' | transloco">
    <mat-icon>check</mat-icon>
  </button>
</mat-dialog-actions>
